(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cacb07b"],{"06c5":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3"),r("ac1f"),r("00b4");var n=r("6b75");function a(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(e,t):void 0}}},"0d3b":function(e,t,r){var n=r("d039"),a=r("b622"),i=r("c430"),s=a("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),r+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},"26da":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"input-group"},[r("span",{staticClass:"input-container"},[r("span",{staticClass:"prefix"},[e._v(e._s(e.prefix))]),r("input",{class:{invalid:!e.isValid},attrs:{type:e.inputType,minlength:e.minlength,maxlength:e.maxlength,name:e.name,required:e.required},domProps:{value:e.value},on:{input:function(t){t.stopPropagation(),t.preventDefault(),e.value=t.target.value},change:function(t){return t.stopPropagation(),t.preventDefault(),e.inputChange(t.target.value)}}}),r("div",{staticClass:"input-status-bar"})]),r("label",{staticClass:"input-label"},[e._v(e._s(e.label))]),r("div",{staticClass:"input-status-info"},[r("div",{staticClass:"text",attrs:{title:e.errorMessage}},[e._v(" "+e._s(e.errorMessage)+" ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showLimit&&e.maxlength>0,expression:"showLimit && (maxlength > 0)"}],staticClass:"limit"},[e._v(" "+e._s(e.limitText)+" ")])])])},a=[],i=(r("a9e3"),r("caad"),r("99af"),r("498a"),{props:{prefix:{type:String,required:!1,default:""},label:{type:String,required:!0,default:""},inputType:{type:String,required:!0,default:"text"},minlength:{type:Number,required:!1,default:-1},maxlength:{type:Number,required:!1,default:-1},name:{type:String,required:!0,default:""},required:{type:Boolean,required:!1,default:!1},initialValue:{type:[String,Number],required:!1,default:""},errorMessage:{type:String,required:!1,default:""},showLimit:{type:Boolean,required:!1,default:!1},doTrim:{type:Boolean,required:!1,default:!0}},data:function(){return{value:"",isValid:!0}},computed:{limitText:function(){var e=["text","password"];return e.includes(this.inputType)&&this.maxlength>0?"".concat(this.value.length,"/").concat(this.maxlength):""}},watch:{initialValue:function(e){this.value=e},errorMessage:function(e){this.isValid=""===e}},created:function(){this.value=this.initialValue},methods:{inputChange:function(e){"string"===typeof e&&!0===this.doTrim&&(this.value=e.trim()),this.$emit("input-change",this.value)}}}),s=i,o=(r("f061"),r("2877")),u=Object(o["a"])(s,n,a,!1,null,"675fcf95",null);t["a"]=u.exports},"2b3d":function(e,t,r){"use strict";r("3ca3");var n,a=r("23e7"),i=r("83ab"),s=r("0d3b"),o=r("da84"),u=r("0366"),l=r("e330"),c=r("37e8").f,h=r("6eeb"),f=r("19aa"),p=r("1a2d"),d=r("60da"),v=r("4df4"),m=r("4dae"),g=r("6547").codeAt,w=r("5fb2"),b=r("577e"),y=r("d44e"),C=r("d6d6"),x=r("9861"),P=r("69f3"),k=P.set,U=P.getterFor("URL"),S=x.URLSearchParams,R=x.getState,L=o.URL,q=o.TypeError,_=o.parseInt,O=Math.floor,A=Math.pow,j=l("".charAt),B=l(/./.exec),H=l([].join),N=l(1..toString),T=l([].pop),$=l([].push),E=l("".replace),I=l([].shift),M=l("".split),D=l("".slice),F=l("".toLowerCase),V=l([].unshift),z="Invalid authority",J="Invalid scheme",Q="Invalid host",G="Invalid port",K=/[a-z]/i,W=/[\d+-.a-z]/i,X=/\d/,Y=/^0x/i,Z=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,re=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,ae=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,se=function(e){var t,r,n,a,i,s,o,u=M(e,".");if(u.length&&""==u[u.length-1]&&u.length--,t=u.length,t>4)return e;for(r=[],n=0;n<t;n++){if(a=u[n],""==a)return e;if(i=10,a.length>1&&"0"==j(a,0)&&(i=B(Y,a)?16:8,a=D(a,8==i?1:2)),""===a)s=0;else{if(!B(10==i?ee:8==i?Z:te,a))return e;s=_(a,i)}$(r,s)}for(n=0;n<t;n++)if(s=r[n],n==t-1){if(s>=A(256,5-t))return null}else if(s>255)return null;for(o=T(r),n=0;n<r.length;n++)o+=r[n]*A(256,3-n);return o},oe=function(e){var t,r,n,a,i,s,o,u=[0,0,0,0,0,0,0,0],l=0,c=null,h=0,f=function(){return j(e,h)};if(":"==f()){if(":"!=j(e,1))return;h+=2,l++,c=l}while(f()){if(8==l)return;if(":"!=f()){t=r=0;while(r<4&&B(te,f()))t=16*t+_(f(),16),h++,r++;if("."==f()){if(0==r)return;if(h-=r,l>6)return;n=0;while(f()){if(a=null,n>0){if(!("."==f()&&n<4))return;h++}if(!B(X,f()))return;while(B(X,f())){if(i=_(f(),10),null===a)a=i;else{if(0==a)return;a=10*a+i}if(a>255)return;h++}u[l]=256*u[l]+a,n++,2!=n&&4!=n||l++}if(4!=n)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;u[l++]=t}else{if(null!==c)return;h++,l++,c=l}}if(null!==c){s=l-c,l=7;while(0!=l&&s>0)o=u[l],u[l--]=u[c+s-1],u[c+--s]=o}else if(8!=l)return;return u},ue=function(e){for(var t=null,r=1,n=null,a=0,i=0;i<8;i++)0!==e[i]?(a>r&&(t=n,r=a),n=null,a=0):(null===n&&(n=i),++a);return a>r&&(t=n,r=a),t},le=function(e){var t,r,n,a;if("number"==typeof e){for(t=[],r=0;r<4;r++)V(t,e%256),e=O(e/256);return H(t,".")}if("object"==typeof e){for(t="",n=ue(e),r=0;r<8;r++)a&&0===e[r]||(a&&(a=!1),n===r?(t+=r?":":"::",a=!0):(t+=N(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ce={},he=d({},ce,{" ":1,'"':1,"<":1,">":1,"`":1}),fe=d({},he,{"#":1,"?":1,"{":1,"}":1}),pe=d({},fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var r=g(e,0);return r>32&&r<127&&!p(t,e)?e:encodeURIComponent(e)},ve={ftp:21,file:null,http:80,https:443,ws:80,wss:443},me=function(e,t){var r;return 2==e.length&&B(K,j(e,0))&&(":"==(r=j(e,1))||!t&&"|"==r)},ge=function(e){var t;return e.length>1&&me(D(e,0,2))&&(2==e.length||"/"===(t=j(e,2))||"\\"===t||"?"===t||"#"===t)},we=function(e){return"."===e||"%2e"===F(e)},be=function(e){return e=F(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ye={},Ce={},xe={},Pe={},ke={},Ue={},Se={},Re={},Le={},qe={},_e={},Oe={},Ae={},je={},Be={},He={},Ne={},Te={},$e={},Ee={},Ie={},Me=function(e,t,r){var n,a,i,s=b(e);if(t){if(a=this.parse(s),a)throw q(a);this.searchParams=null}else{if(void 0!==r&&(n=new Me(r,!0)),a=this.parse(s,null,n),a)throw q(a);i=R(new S),i.bindURL(this),this.searchParams=i}};Me.prototype={type:"URL",parse:function(e,t,r){var a,i,s,o,u=this,l=t||ye,c=0,h="",f=!1,d=!1,g=!1;e=b(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=E(e,ae,"")),e=E(e,ie,""),a=v(e);while(c<=a.length){switch(i=a[c],l){case ye:if(!i||!B(K,i)){if(t)return J;l=xe;continue}h+=F(i),l=Ce;break;case Ce:if(i&&(B(W,i)||"+"==i||"-"==i||"."==i))h+=F(i);else{if(":"!=i){if(t)return J;h="",l=xe,c=0;continue}if(t&&(u.isSpecial()!=p(ve,h)||"file"==h&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=h,t)return void(u.isSpecial()&&ve[u.scheme]==u.port&&(u.port=null));h="","file"==u.scheme?l=je:u.isSpecial()&&r&&r.scheme==u.scheme?l=Pe:u.isSpecial()?l=Re:"/"==a[c+1]?(l=ke,c++):(u.cannotBeABaseURL=!0,$(u.path,""),l=$e)}break;case xe:if(!r||r.cannotBeABaseURL&&"#"!=i)return J;if(r.cannotBeABaseURL&&"#"==i){u.scheme=r.scheme,u.path=m(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,l=Ie;break}l="file"==r.scheme?je:Ue;continue;case Pe:if("/"!=i||"/"!=a[c+1]){l=Ue;continue}l=Le,c++;break;case ke:if("/"==i){l=qe;break}l=Te;continue;case Ue:if(u.scheme=r.scheme,i==n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.query=r.query;else if("/"==i||"\\"==i&&u.isSpecial())l=Se;else if("?"==i)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.query="",l=Ee;else{if("#"!=i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.path.length--,l=Te;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.query=r.query,u.fragment="",l=Ie}break;case Se:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,l=Te;continue}l=qe}else l=Le;break;case Re:if(l=Le,"/"!=i||"/"!=j(h,c+1))continue;c++;break;case Le:if("/"!=i&&"\\"!=i){l=qe;continue}break;case qe:if("@"==i){f&&(h="%40"+h),f=!0,s=v(h);for(var w=0;w<s.length;w++){var y=s[w];if(":"!=y||g){var C=de(y,pe);g?u.password+=C:u.username+=C}else g=!0}h=""}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(f&&""==h)return z;c-=v(h).length+1,h="",l=_e}else h+=i;break;case _e:case Oe:if(t&&"file"==u.scheme){l=He;continue}if(":"!=i||d){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==h)return Q;if(t&&""==h&&(u.includesCredentials()||null!==u.port))return;if(o=u.parseHost(h),o)return o;if(h="",l=Ne,t)return;continue}"["==i?d=!0:"]"==i&&(d=!1),h+=i}else{if(""==h)return Q;if(o=u.parseHost(h),o)return o;if(h="",l=Ae,t==Oe)return}break;case Ae:if(!B(X,i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||t){if(""!=h){var x=_(h,10);if(x>65535)return G;u.port=u.isSpecial()&&x===ve[u.scheme]?null:x,h=""}if(t)return;l=Ne;continue}return G}h+=i;break;case je:if(u.scheme="file","/"==i||"\\"==i)l=Be;else{if(!r||"file"!=r.scheme){l=Te;continue}if(i==n)u.host=r.host,u.path=m(r.path),u.query=r.query;else if("?"==i)u.host=r.host,u.path=m(r.path),u.query="",l=Ee;else{if("#"!=i){ge(H(m(a,c),""))||(u.host=r.host,u.path=m(r.path),u.shortenPath()),l=Te;continue}u.host=r.host,u.path=m(r.path),u.query=r.query,u.fragment="",l=Ie}}break;case Be:if("/"==i||"\\"==i){l=He;break}r&&"file"==r.scheme&&!ge(H(m(a,c),""))&&(me(r.path[0],!0)?$(u.path,r.path[0]):u.host=r.host),l=Te;continue;case He:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&me(h))l=Te;else if(""==h){if(u.host="",t)return;l=Ne}else{if(o=u.parseHost(h),o)return o;if("localhost"==u.host&&(u.host=""),t)return;h="",l=Ne}continue}h+=i;break;case Ne:if(u.isSpecial()){if(l=Te,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=n&&(l=Te,"/"!=i))continue}else u.fragment="",l=Ie;else u.query="",l=Ee;break;case Te:if(i==n||"/"==i||"\\"==i&&u.isSpecial()||!t&&("?"==i||"#"==i)){if(be(h)?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||$(u.path,"")):we(h)?"/"==i||"\\"==i&&u.isSpecial()||$(u.path,""):("file"==u.scheme&&!u.path.length&&me(h)&&(u.host&&(u.host=""),h=j(h,0)+":"),$(u.path,h)),h="","file"==u.scheme&&(i==n||"?"==i||"#"==i))while(u.path.length>1&&""===u.path[0])I(u.path);"?"==i?(u.query="",l=Ee):"#"==i&&(u.fragment="",l=Ie)}else h+=de(i,fe);break;case $e:"?"==i?(u.query="",l=Ee):"#"==i?(u.fragment="",l=Ie):i!=n&&(u.path[0]+=de(i,ce));break;case Ee:t||"#"!=i?i!=n&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":de(i,ce)):(u.fragment="",l=Ie);break;case Ie:i!=n&&(u.fragment+=de(i,he));break}c++}},parseHost:function(e){var t,r,n;if("["==j(e,0)){if("]"!=j(e,e.length-1))return Q;if(t=oe(D(e,1,-1)),!t)return Q;this.host=t}else if(this.isSpecial()){if(e=w(e),B(re,e))return Q;if(t=se(e),null===t)return Q;this.host=t}else{if(B(ne,e))return Q;for(t="",r=v(e),n=0;n<r.length;n++)t+=de(r[n],ce);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(ve,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&me(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,a=e.host,i=e.port,s=e.path,o=e.query,u=e.fragment,l=t+":";return null!==a?(l+="//",e.includesCredentials()&&(l+=r+(n?":"+n:"")+"@"),l+=le(a),null!==i&&(l+=":"+i)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?s[0]:s.length?"/"+H(s,"/"):"",null!==o&&(l+="?"+o),null!==u&&(l+="#"+u),l},setHref:function(e){var t=this.parse(e);if(t)throw q(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new De(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+le(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ye)},getUsername:function(){return this.username},setUsername:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=de(t[r],pe)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=de(t[r],pe)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?le(e):le(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,_e)},getHostname:function(){var e=this.host;return null===e?"":le(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Oe)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=b(e),""==e?this.port=null:this.parse(e,Ae))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+H(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ne))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=b(e),""==e?this.query=null:("?"==j(e,0)&&(e=D(e,1)),this.query="",this.parse(e,Ee)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=b(e),""!=e?("#"==j(e,0)&&(e=D(e,1)),this.fragment="",this.parse(e,Ie)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var De=function(e){var t=f(this,Fe),r=C(arguments.length,1)>1?arguments[1]:void 0,n=k(t,new Me(e,!1,r));i||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Fe=De.prototype,Ve=function(e,t){return{get:function(){return U(this)[e]()},set:t&&function(e){return U(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&c(Fe,{href:Ve("serialize","setHref"),origin:Ve("getOrigin"),protocol:Ve("getProtocol","setProtocol"),username:Ve("getUsername","setUsername"),password:Ve("getPassword","setPassword"),host:Ve("getHost","setHost"),hostname:Ve("getHostname","setHostname"),port:Ve("getPort","setPort"),pathname:Ve("getPathname","setPathname"),search:Ve("getSearch","setSearch"),searchParams:Ve("getSearchParams"),hash:Ve("getHash","setHash")}),h(Fe,"toJSON",(function(){return U(this).serialize()}),{enumerable:!0}),h(Fe,"toString",(function(){return U(this).serialize()}),{enumerable:!0}),L){var ze=L.createObjectURL,Je=L.revokeObjectURL;ze&&h(De,"createObjectURL",u(ze,L)),Je&&h(De,"revokeObjectURL",u(Je,L))}y(De,"URL"),a({global:!0,forced:!s,sham:!i},{URL:De})},3316:function(e,t,r){},"498a":function(e,t,r){"use strict";var n=r("23e7"),a=r("58a8").trim,i=r("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},"4a39":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container"},[r("SiteNav"),r("portal",{attrs:{to:"modals"}},[r("UserProfileModal",{attrs:{order:2,show:e.show},on:{close:e.closeModal,update:e.updateProfile}})],1),r("section",{staticClass:"main"},[r("section",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"profile-container"},[r("div",{staticClass:"page-control"},[r("icon",{staticClass:"btn-back cursor-pointer",attrs:{"icon-name":"back-arrow"},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$router.go(-1)}}}),r("span",{staticClass:"simple-info"},[r("div",{staticClass:"user-name"},[e._v(e._s(e.emptyName(e.user.name,e.user.account)))]),r("div",{staticClass:"tweet-count"},[e._v(e._s(e._f("numberFormat")(e.user.tweetAmount))+" 推文")])])],1),r("main",{staticClass:"profile"},[r("div",{staticClass:"user-cover"},[r("img",{directives:[{name:"show",rawName:"v-show",value:e.user.cover,expression:"user.cover"}],attrs:{src:e.user.cover},on:{error:function(t){e.user.cover=""}}}),r("div",{staticClass:"user-avatar"},[r("div",{staticClass:"avatar-container"},[r("img",{directives:[{name:"show",rawName:"v-show",value:e.user.avatar,expression:"user.avatar"}],attrs:{src:e.user.avatar},on:{error:function(t){e.user.avatar=""}}})])])]),r("div",{staticClass:"control-group"},[e.currentUser.id===e.user.id?[r("button",{staticClass:"btn-control-outline btn-text",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.showModal.apply(null,arguments)}}},[e._v(" 編輯個人資料 ")])]:[r("icon",{staticClass:"btn-control-outline btn-icon  cursor-pointer",attrs:{"icon-name":"email"}}),e.user.notification?r("icon",{staticClass:"btn-control btn-icon  cursor-pointer",attrs:{"icon-name":"notification-checked"},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.offNotification(e.user.id)}}}):r("icon",{staticClass:"btn-control-outline btn-icon cursor-pointer",attrs:{"icon-name":"notification"},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.onNotification(e.user.id)}}}),r("FollowControlButton",{staticClass:"btn-text",attrs:{"initial-user":e.user},on:{"user-followed":e.follow,"user-unfollowed":e.unfollow}})]],2),r("div",{staticClass:"profile-group"},[r("div",{staticClass:"user-name"},[e._v(" "+e._s(e.emptyName(e.user.name,e.user.account))+" ")]),r("div",{staticClass:"user-account"},[e._v(" "+e._s(e._f("addPrefix")(e.user.account))+" ")]),r("div",{staticClass:"user-introduction"},[e._v(" "+e._s(e.user.introduction)+" ")]),r("div",{staticClass:"user-statistic"},[r("router-link",{staticClass:"user-following",attrs:{to:{name:"followings",params:{id:e.user.id}}}},[e._v(" "+e._s(e._f("numberFormat")(e.user.following))+" 個"),r("em",[e._v("跟隨中")])]),r("router-link",{staticClass:"user-follower",attrs:{to:{name:"followers",params:{id:e.user.id}}}},[e._v(" "+e._s(e._f("numberFormat")(e.user.follower))+" 位"),r("em",[e._v("跟隨者")])])],1)])])]),r("UserNav"),r("router-view",{attrs:{"user-id":e.$route.params.id}})],1),r("RecommendedList")],1)},a=[],i=r("1da1"),s=r("5530"),o=(r("96cf"),r("d9e2"),r("2441")),u=r("44f5"),l=r("3518"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-group"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-tweets",params:{id:e.$route.params.id}}}},[e._v(" 推文 ")]),r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-replies",params:{id:e.$route.params.id}}}},[e._v(" 推文與回覆 ")]),r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-likes",params:{id:e.$route.params.id}}}},[e._v(" 喜歡的內容 ")])],1)},h=[],f=(r("8767"),r("2877")),p={},d=Object(f["a"])(p,c,h,!1,null,"4d9a09ec",null),v=d.exports,m=r("2708"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[r("div",{staticClass:"modal show user-profile-modal",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(t){return t.target!==t.currentTarget?null:e.close.apply(null,arguments)}}},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("form",{staticClass:"modal-content",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("section",{staticClass:"modal-header"},[r("icon",{staticClass:"icon-close cursor-pointer",attrs:{"icon-name":"cross"},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.close.apply(null,arguments)}}}),r("span",{staticClass:"header-text"},[e._v("編輯個人資料")]),r("button",{staticClass:"btn-control btn-save",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" 儲存 ")])],1),r("section",{staticClass:"modal-body"},[r("div",{staticClass:"user-cover"},[r("img",{directives:[{name:"show",rawName:"v-show",value:e.user.cover,expression:"user.cover"}],attrs:{src:e.user.cover},on:{error:function(t){e.user.cover=""}}}),r("span",{staticClass:"cover-control"},[r("input",{ref:"coverinput",staticClass:"d-none",attrs:{id:"cover-input",type:"file",name:"cover"},on:{change:e.handleCoverChange}}),r("label",{attrs:{for:"cover-input"}},[r("icon",{staticClass:"control-icon cursor-pointer",attrs:{"icon-name":"camera"}})],1),r("icon",{staticClass:"control-icon cursor-pointer",staticStyle:{"margin-left":"30px"},attrs:{"icon-name":"cross"},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.undo.apply(null,arguments)}}})],1),r("div",{staticClass:"user-avatar"},[r("div",{staticClass:"avatar-container"},[r("input",{staticClass:"d-none",attrs:{id:"avatar-input",type:"file",name:"avatar"},on:{change:e.handleAvatarChange}}),r("img",{directives:[{name:"show",rawName:"v-show",value:e.user.avatar,expression:"user.avatar"}],attrs:{src:e.user.avatar},on:{error:function(t){e.user.avatar=""}}}),r("label",{attrs:{for:"avatar-input"}},[r("icon",{staticClass:"control-icon cursor-pointer",attrs:{"icon-name":"camera"}})],1)])])]),r("div",{staticClass:"text-input-section"},[r("GeneralInput",{attrs:{label:"名稱","input-type":"text",maxlength:50,name:"name","initial-value":e.user.name,"error-message":e.error.name,"show-limit":!0}}),r("CustomTextArea",{attrs:{label:"自我介紹","input-type":"text",maxlength:160,name:"introduction","initial-value":e.user.introduction,"error-message":e.error.introduction,"show-limit":!0}})],1)])])])]),r("div",{staticClass:"modal-backdrop show"})])])},w=[];function b(e){if(Array.isArray(e))return e}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function y(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(n=r.next()).done);s=!0)if(i.push(n.value),t&&i.length===t)break}catch(u){o=!0,a=u}finally{try{s||null==r["return"]||r["return"]()}finally{if(o)throw a}}return i}}var C=r("06c5");function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){return b(e)||y(e,t)||Object(C["a"])(e,t)||x()}function k(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Object(C["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(o)throw i}}}}r("2b3d"),r("9861");var U=r("26da"),S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"input-group"},[r("span",{staticClass:"input-container"},[r("span",{staticClass:"prefix"},[e._v(e._s(e.prefix))]),r("textarea",{class:{invalid:!e.isValid},attrs:{type:e.inputType,minlength:e.minlength,maxlength:e.maxlength,name:e.name,required:e.required},domProps:{value:e.value},on:{input:function(t){t.stopPropagation(),t.preventDefault(),e.value=t.target.value},change:function(t){return t.stopPropagation(),t.preventDefault(),e.inputChange(t.target.value)}}}),e._v(" "),r("div",{staticClass:"input-status-bar"})]),r("label",{staticClass:"input-label"},[e._v(e._s(e.label))]),r("div",{staticClass:"input-status-info"},[r("div",{staticClass:"text",attrs:{title:e.errorMessage}},[e._v(" "+e._s(e.errorMessage)+" ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showLimit&&e.maxlength>0,expression:"showLimit && (maxlength > 0)"}],staticClass:"limit"},[e._v(" "+e._s(e.limitText)+" ")])])])},R=[],L=(r("a9e3"),r("caad"),r("99af"),r("498a"),{props:{prefix:{type:String,required:!1,default:""},label:{type:String,required:!0,default:""},inputType:{type:String,required:!0,default:"text"},minlength:{type:Number,required:!1,default:-1},maxlength:{type:Number,required:!1,default:-1},name:{type:String,required:!0,default:""},required:{type:Boolean,required:!1,default:!1},initialValue:{type:[String,Number],required:!1,default:""},errorMessage:{type:String,required:!1,default:""},showLimit:{type:Boolean,required:!1,default:!1},doTrim:{type:Boolean,required:!1,default:!0}},data:function(){return{value:"",isValid:!0}},computed:{limitText:function(){var e=["text","password"];return e.includes(this.inputType)&&this.maxlength>0?"string"===typeof this.value?"".concat(this.value.length,"/").concat(this.maxlength):"0/".concat(this.maxlength):""}},watch:{initialValue:function(e){this.value=e},errorMessage:function(e){this.isValid=""===e}},created:function(){this.value=this.initialValue},methods:{inputChange:function(e){"string"===typeof e&&!0===this.doTrim&&(this.value=e.trim()),this.$emit("input-change",this.value)}}}),q=L,_=(r("a3c2"),Object(f["a"])(q,S,R,!1,null,"45922024",null)),O=_.exports,A=r("4cce"),j=r("2fa3"),B={components:{GeneralInput:U["a"],CustomTextArea:O},props:{show:{type:Boolean,required:!0,default:!1}},data:function(){return{user:{id:-1,cover:"",avatar:"",initialCover:"",name:"",introduction:""},error:{name:"",introduction:""},isProcessing:!1}},watch:{"$store.state.currentUser":{handler:function(e,t){this.user=Object(s["a"])(Object(s["a"])({},this.user),e),this.user.initialCover=this.user.cover},deep:!0,immediate:!0}},methods:{handleCoverChange:function(e){var t=e.target.files;if(0===t.length)this.user.cover=this.user.initialCover;else{var r=window.URL.createObjectURL(t[0]);this.user.cover=r}},handleAvatarChange:function(e){var t=e.target.files;if(0===t.length)this.user.avatar="";else{var r=window.URL.createObjectURL(t[0]);this.user.avatar=r}},undo:function(){this.user.cover=this.user.initialCover,this.$refs.coverinput.value=null},handleSubmit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,a,i,s,o,u,l,c,h;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.target,a=new FormData(n),i=k(a.entries());try{for(i.s();!(s=i.n()).done;)o=P(s.value,2),u=o[0],l=o[1],console.log(u+": "+l)}catch(f){i.e(f)}finally{i.f()}return r.prev=4,t.isProcessing=!0,r.next=8,A["a"].updateUserProfile({userId:t.user.id,formData:a});case 8:if(c=r.sent,h=c.data,"success"===h.status){r.next=12;break}throw new Error(h.message);case 12:t.$emit("update"),r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](4),j["a"].fire({icon:"error",title:"無法更新使用者Profile，請稍後再試"});case 18:return r.prev=18,t.isProcessing=!1,r.finish(18);case 21:case"end":return r.stop()}}),r,null,[[4,15,18,21]])})))()},close:function(){this.$emit("close")}}},H=B,N=(r("bc73"),Object(f["a"])(H,g,w,!1,null,"4b844746",null)),T=N.exports,$=r("2f62"),E=r("4360"),I={components:{SiteNav:o["a"],RecommendedList:u["a"],FollowControlButton:l["a"],UserProfileModal:T,UserNav:v},mixins:[m["b"],m["a"],m["d"]],data:function(){return{user:{id:-1,account:"",name:"",cover:"",avatar:"",introduction:"",follower:0,following:0,followed:!1,tweetAmount:0,notification:!1},isLoading:!0,show:!1}},computed:Object(s["a"])({},Object($["b"])(["currentUser"])),watch:{"$store.state.currentUser":{handler:function(e,t){this.fetchUser(e.id)},deep:!0}},created:function(){var e=this.$route.params.id;this.fetchUser(e)},beforeRouteUpdate:function(e,t,r){var n=e.params.id;this.fetchUser(n),r()},methods:{fetchUser:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isLoading=!0,r.next=4,A["a"].getUserData({userId:e});case 4:if(n=r.sent,"OK"===n.statusText){r.next=7;break}throw new Error(n.statusText);case 7:t.user=Object(s["a"])(Object(s["a"])({},t.user),n.data),t.isLoading=!1,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),j["a"].fire({icon:"error",title:"無法載入使用者資料，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()},onNotification:function(e){console.log("對 ".concat(e," 開啟通知")),this.user.notification=!0},offNotification:function(e){console.log("對 ".concat(e," 關閉通知")),this.user.notification=!1},follow:function(){this.user.follower=this.user.follower+1},unfollow:function(){this.user.follower=this.user.follower-1},showModal:function(){this.show=!0},closeModal:function(){this.show=!1},updateProfile:function(){this.show=!1,E["a"].dispatch("fetchCurrentUser")}}},M=I,D=(r("b3a4"),Object(f["a"])(M,n,a,!1,null,"54532f56",null));t["default"]=D.exports},"4df4":function(e,t,r){"use strict";var n=r("da84"),a=r("0366"),i=r("c65b"),s=r("7b0b"),o=r("9bdd"),u=r("e95a"),l=r("68ee"),c=r("07fa"),h=r("8418"),f=r("9a1f"),p=r("35a1"),d=n.Array;e.exports=function(e){var t=s(e),r=l(this),n=arguments.length,v=n>1?arguments[1]:void 0,m=void 0!==v;m&&(v=a(v,n>2?arguments[2]:void 0));var g,w,b,y,C,x,P=p(t),k=0;if(!P||this==d&&u(P))for(g=c(t),w=r?new this(g):d(g);g>k;k++)x=m?v(t[k],k):t[k],h(w,k,x);else for(y=f(t,P),C=y.next,w=r?new this:[];!(b=i(C,y)).done;k++)x=m?o(y,v,[b.value,k],!0):b.value,h(w,k,x);return w.length=k,w}},"5fb2":function(e,t,r){"use strict";var n=r("da84"),a=r("e330"),i=2147483647,s=36,o=1,u=26,l=38,c=700,h=72,f=128,p="-",d=/[^\0-\u007E]/,v=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",g=s-o,w=n.RangeError,b=a(v.exec),y=Math.floor,C=String.fromCharCode,x=a("".charCodeAt),P=a([].join),k=a([].push),U=a("".replace),S=a("".split),R=a("".toLowerCase),L=function(e){var t=[],r=0,n=e.length;while(r<n){var a=x(e,r++);if(a>=55296&&a<=56319&&r<n){var i=x(e,r++);56320==(64512&i)?k(t,((1023&a)<<10)+(1023&i)+65536):(k(t,a),r--)}else k(t,a)}return t},q=function(e){return e+22+75*(e<26)},_=function(e,t,r){var n=0;e=r?y(e/c):e>>1,e+=y(e/t);while(e>g*u>>1)e=y(e/g),n+=s;return y(n+(g+1)*e/(e+l))},O=function(e){var t=[];e=L(e);var r,n,a=e.length,l=f,c=0,d=h;for(r=0;r<e.length;r++)n=e[r],n<128&&k(t,C(n));var v=t.length,g=v;v&&k(t,p);while(g<a){var b=i;for(r=0;r<e.length;r++)n=e[r],n>=l&&n<b&&(b=n);var x=g+1;if(b-l>y((i-c)/x))throw w(m);for(c+=(b-l)*x,l=b,r=0;r<e.length;r++){if(n=e[r],n<l&&++c>i)throw w(m);if(n==l){var U=c,S=s;while(1){var R=S<=d?o:S>=d+u?u:S-d;if(U<R)break;var O=U-R,A=s-R;k(t,C(q(R+O%A))),U=y(O/A),S+=s}k(t,C(q(U))),d=_(c,x,g==v),c=0,g++}}c++,l++}return P(t,"")};e.exports=function(e){var t,r,n=[],a=S(U(R(e),v,"."),".");for(t=0;t<a.length;t++)r=a[t],k(n,b(d,r)?"xn--"+O(r):r);return P(n,".")}},"6b75":function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},"7bd9":function(e,t,r){},8767:function(e,t,r){"use strict";r("3316")},9861:function(e,t,r){"use strict";r("e260");var n=r("23e7"),a=r("da84"),i=r("d066"),s=r("c65b"),o=r("e330"),u=r("0d3b"),l=r("6eeb"),c=r("e2cc"),h=r("d44e"),f=r("9ed3"),p=r("69f3"),d=r("19aa"),v=r("1626"),m=r("1a2d"),g=r("0366"),w=r("f5df"),b=r("825a"),y=r("861d"),C=r("577e"),x=r("7c73"),P=r("5c6c"),k=r("9a1f"),U=r("35a1"),S=r("d6d6"),R=r("b622"),L=r("addb"),q=R("iterator"),_="URLSearchParams",O=_+"Iterator",A=p.set,j=p.getterFor(_),B=p.getterFor(O),H=i("fetch"),N=i("Request"),T=i("Headers"),$=N&&N.prototype,E=T&&T.prototype,I=a.RegExp,M=a.TypeError,D=a.decodeURIComponent,F=a.encodeURIComponent,V=o("".charAt),z=o([].join),J=o([].push),Q=o("".replace),G=o([].shift),K=o([].splice),W=o("".split),X=o("".slice),Y=/\+/g,Z=Array(4),ee=function(e){return Z[e-1]||(Z[e-1]=I("((?:%[\\da-f]{2}){"+e+"})","gi"))},te=function(e){try{return D(e)}catch(t){return e}},re=function(e){var t=Q(e,Y," "),r=4;try{return D(t)}catch(n){while(r)t=Q(t,ee(r--),te);return t}},ne=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ie=function(e){return ae[e]},se=function(e){return Q(F(e),ne,ie)},oe=f((function(e,t){A(this,{type:O,iterator:k(j(e).entries),kind:t})}),"Iterator",(function(){var e=B(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(y(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===V(e,0)?X(e,1):e:C(e)))};ue.prototype={type:_,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,a,i,o,u,l=U(e);if(l){t=k(e,l),r=t.next;while(!(n=s(r,t)).done){if(a=k(b(n.value)),i=a.next,(o=s(i,a)).done||(u=s(i,a)).done||!s(i,a).done)throw M("Expected sequence with length 2");J(this.entries,{key:C(o.value),value:C(u.value)})}}else for(var c in e)m(e,c)&&J(this.entries,{key:c,value:C(e[c])})},parseQuery:function(e){if(e){var t,r,n=W(e,"&"),a=0;while(a<n.length)t=n[a++],t.length&&(r=W(t,"="),J(this.entries,{key:re(G(r)),value:re(z(r,"="))}))}},serialize:function(){var e,t=this.entries,r=[],n=0;while(n<t.length)e=t[n++],J(r,se(e.key)+"="+se(e.value));return z(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var le=function(){d(this,ce);var e=arguments.length>0?arguments[0]:void 0;A(this,new ue(e))},ce=le.prototype;if(c(ce,{append:function(e,t){S(arguments.length,2);var r=j(this);J(r.entries,{key:C(e),value:C(t)}),r.updateURL()},delete:function(e){S(arguments.length,1);var t=j(this),r=t.entries,n=C(e),a=0;while(a<r.length)r[a].key===n?K(r,a,1):a++;t.updateURL()},get:function(e){S(arguments.length,1);for(var t=j(this).entries,r=C(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){S(arguments.length,1);for(var t=j(this).entries,r=C(e),n=[],a=0;a<t.length;a++)t[a].key===r&&J(n,t[a].value);return n},has:function(e){S(arguments.length,1);var t=j(this).entries,r=C(e),n=0;while(n<t.length)if(t[n++].key===r)return!0;return!1},set:function(e,t){S(arguments.length,1);for(var r,n=j(this),a=n.entries,i=!1,s=C(e),o=C(t),u=0;u<a.length;u++)r=a[u],r.key===s&&(i?K(a,u--,1):(i=!0,r.value=o));i||J(a,{key:s,value:o}),n.updateURL()},sort:function(){var e=j(this);L(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,r=j(this).entries,n=g(e,arguments.length>1?arguments[1]:void 0),a=0;while(a<r.length)t=r[a++],n(t.value,t.key,this)},keys:function(){return new oe(this,"keys")},values:function(){return new oe(this,"values")},entries:function(){return new oe(this,"entries")}},{enumerable:!0}),l(ce,q,ce.entries,{name:"entries"}),l(ce,"toString",(function(){return j(this).serialize()}),{enumerable:!0}),h(le,_),n({global:!0,forced:!u},{URLSearchParams:le}),!u&&v(T)){var he=o(E.has),fe=o(E.set),pe=function(e){if(y(e)){var t,r=e.body;if(w(r)===_)return t=e.headers?new T(e.headers):new T,he(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(e,{body:P(0,C(r)),headers:P(0,t)})}return e};if(v(H)&&n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return H(e,arguments.length>1?pe(arguments[1]):{})}}),v(N)){var de=function(e){return d(this,$),new N(e,arguments.length>1?pe(arguments[1]):{})};$.constructor=de,de.prototype=$,n({global:!0,forced:!0},{Request:de})}}e.exports={URLSearchParams:le,getState:j}},"9bdd":function(e,t,r){var n=r("825a"),a=r("2a62");e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(s){a(e,"throw",s)}}},a3c2:function(e,t,r){"use strict";r("fd70")},a541:function(e,t,r){},a630:function(e,t,r){var n=r("23e7"),a=r("4df4"),i=r("1c7e"),s=!i((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:s},{from:a})},b3a4:function(e,t,r){"use strict";r("a541")},bc73:function(e,t,r){"use strict";r("febf")},c8d2:function(e,t,r){var n=r("5e77").PROPER,a=r("d039"),i=r("5899"),s="​᠎";e.exports=function(e){return a((function(){return!!i[e]()||s[e]()!==s||n&&i[e].name!==e}))}},f061:function(e,t,r){"use strict";r("7bd9")},fd70:function(e,t,r){},febf:function(e,t,r){}}]);
//# sourceMappingURL=chunk-4cacb07b.a3c29c99.js.map